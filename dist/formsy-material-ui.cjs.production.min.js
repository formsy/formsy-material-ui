"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("react")),i=e(require("create-react-class")),n=e(require("prop-types")),r=e(require("formsy-react")),o=e(require("material-ui/Checkbox")),a=e(require("material-ui/DatePicker")),s=require("material-ui/RadioButton"),u=e(require("material-ui/SelectField")),l=e(require("keycode")),d=e(require("material-ui/TextField")),h=e(require("material-ui/TimePicker")),p=e(require("material-ui/Toggle")),c=e(require("material-ui/AutoComplete")),g=require("formsy-react/src/utils");function v(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(i=o[n])>=0||(r[i]=e[i]);return r}function f(e){e!==this.muiComponent&&(this.muiComponent=e,e&&"function"==typeof e.focus?this.focus=function(){return e.focus()}:this.hasOwnProperty("focus")&&delete this.focus)}var m=i({propTypes:{defaultChecked:n.bool,name:n.string.isRequired,onChange:n.func,validationError:n.string,validationErrors:n.object,validations:n.oneOfType([n.string,n.object])},mixins:[r.Mixin],componentDidMount:function(){this.setValue(this.muiComponent.isChecked())},handleChange:function(e,t){this.setValue(t),this.props.onChange&&this.props.onChange(e,t)},setMuiComponentAndMaybeFocus:f,render:function(){var e=this.props,i=e.defaultChecked,n=v(e,["defaultChecked","validations","validationErrors","validationError"]),r=this.getValue();return void 0===r&&(r=void 0!==i&&i),t.createElement(o,Object.assign({disabled:this.isFormDisabled()},n,{checked:r,onCheck:this.handleChange,ref:this.setMuiComponentAndMaybeFocus}))}}),C=i({propTypes:{defaultDate:n.object,name:n.string.isRequired,onChange:n.func,requiredError:n.string,validationError:n.string,validationErrors:n.object,validations:n.oneOfType([n.string,n.object]),value:n.object},mixins:[r.Mixin],componentDidMount:function(){var e=this.props.defaultDate;void 0===this.getValue()&&void 0!==e&&this.setValue(e)},componentWillReceiveProps:function(e){function t(e,t){return e.getFullYear()===t.getFullYear()&&e.getDate()===t.getDate()&&e.getDay()===t.getDay()}e.value?this.props.value&&t(this.props.value,e.value)||this.setValue(e.value):!this.props.value&&e.defaultDate&&(t(this.props.defaultDate,e.defaultDate)||this.setValue(e.defaultDate))},handleChange:function(e,t){this.setValue(t),this.props.onChange&&this.props.onChange(e,t)},setMuiComponentAndMaybeFocus:f,render:function(){var e=this.props,i=e.requiredError,n=v(e,["defaultDate","validations","validationErrors","validationError","requiredError"]),r=this.isPristine,o=this.isValid,s=this.isFormSubmitted,u=(0,this.isRequired)()&&!r()&&!o()&&s()&&i,l=this.getErrorMessage()||u;return t.createElement(a,Object.assign({disabled:this.isFormDisabled()},n,{errorText:l,onChange:this.handleChange,ref:this.setMuiComponentAndMaybeFocus,value:this.getValue()}))}}),y=i({mixins:[r.Mixin],render:function(){return null}}),V=i({propTypes:{children:n.node,defaultSelected:n.oneOfType([n.string,n.number,n.bool]),name:n.string.isRequired,onChange:n.func,validationError:n.string,validationErrors:n.object,validations:n.oneOfType([n.string,n.object]),value:n.oneOfType([n.string,n.number,n.bool])},mixins:[r.Mixin],componentDidMount:function(){this.setValue(this.muiComponent.getSelectedValue())},handleValueChange:function(e,t){this.setValue(t),this.props.onChange&&this.props.onChange(e,t)},setMuiComponentAndMaybeFocus:f,render:function(){var e=this.props,i=e.defaultSelected,n=e.value,r=v(e,["validations","validationError","validationErrors","defaultSelected","value"]),o=t.Children.map(this.props.children,(function(e){var i=v(e.props,["validations","validationError","validationErrors"]);return t.createElement(s.RadioButton,i)}));return void 0===n&&(n=i),t.createElement(s.RadioButtonGroup,Object.assign({disabled:this.isFormDisabled()},r,{ref:this.setMuiComponentAndMaybeFocus,onChange:this.handleValueChange,valueSelected:this.getValue(),defaultSelected:n}),o)}}),b=i({propTypes:{children:n.node,name:n.string.isRequired,onChange:n.func,requiredError:n.string,validationError:n.string,validationErrors:n.object,validations:n.oneOfType([n.string,n.object]),value:n.any},mixins:[r.Mixin],getInitialState:function(){return{hasChanged:!1}},handleChange:function(e,t,i){this.setValue(i),this.setState({hasChanged:""!==i}),this.props.onChange&&this.props.onChange(e,i,t)},setMuiComponentAndMaybeFocus:f,render:function(){var e=this.props,i=e.requiredError,n=e.value,r=v(e,["requiredError","validations","validationError","validationErrors","value","onChange"]),o=this.isPristine,a=this.isValid,s=this.isFormSubmitted,l=(0,this.isRequired)()&&!o()&&!a()&&s()&&i,d=this.getErrorMessage()||l,h=this.state.hasChanged?this.getValue():n;return t.createElement(u,Object.assign({disabled:this.isFormDisabled(),errorText:d,onChange:this.handleChange,ref:this.setMuiComponentAndMaybeFocus,value:h},r),this.props.children)}}),M=i({propTypes:{convertValue:n.func,defaultValue:n.any,name:n.string.isRequired,onBlur:n.func,onChange:n.func,onKeyDown:n.func,requiredError:n.string,underlineFocusStyle:n.object,underlineStyle:n.object,updateImmediately:n.bool,validationColor:n.string,validationError:n.string,validationErrors:n.object,validations:n.oneOfType([n.string,n.object]),value:n.any},mixins:[r.Mixin],getDefaultProps:function(){return{underlineFocusStyle:{},underlineStyle:{},validationColor:"#4CAF50"}},getInitialState:function(){return{value:this.controlledValue()}},componentWillMount:function(){this.setValue(this.controlledValue())},componentWillReceiveProps:function(e){var t=e.value!==this.props.value;if(t||e.defaultValue!==this.props.defaultValue){var i=this.controlledValue(e),n=this.isValidValue(i);(t||this.props.defaultValue===this.getValue())&&(this.setState({value:i,isValid:n}),this.getValue()!==i&&this.setValue(i))}},componentWillUpdate:function(e,t){if(t._isPristine&&t._isPristine!==this.state._isPristine){var i=this.controlledValue(e),n=this.isValidValue(i);this.setValue(i),this.setState({value:i,isValid:n})}},controlledValue:function(e){return void 0===e&&(e=this.props),e.value||e.defaultValue||this.convertValue("")},handleBlur:function(e){this.setValue(this.convertValue(e.currentTarget.value)),delete this.changeValue,this.props.onBlur&&this.props.onBlur(e)},handleChange:function(e){var t,i;this.props.updateImmediately?(this.changeValue||(this.changeValue=(t=this.setValue,function(){var e=this,n=arguments;clearTimeout(i),i=setTimeout((function(){t.apply(e,n)}),400)})),this.changeValue(this.convertValue(e.currentTarget.value))):(null!=this.getErrorMessage()||this.isValidValue(e.target.value))&&this.setValue(this.convertValue(e.currentTarget.value)),this.setState({value:e.currentTarget.value,isValid:this.isValidValue(e.currentTarget.value)}),this.props.onChange&&this.props.onChange(e,e.currentTarget.value)},handleKeyDown:function(e){"enter"===l(e)&&this.setValue(this.convertValue(e.currentTarget.value)),this.props.onKeyDown&&this.props.onKeyDown(e,e.currentTarget.value)},convertValue:function(e){return this.props.convertValue?this.props.convertValue(e):e},setMuiComponentAndMaybeFocus:f,render:function(){var e=this.props,i=e.requiredError,n=e.underlineFocusStyle,r=e.underlineStyle,o=e.validationColor,a=v(e,["defaultValue","convertValue","requiredError","underlineFocusStyle","underlineStyle","updateImmediately","validations","validationError","validationErrors","value","validationColor"]),s=this.isPristine,u=this.isValid,l=this.isFormSubmitted,h=(0,this.isRequired)()&&!s()&&!u()&&l()&&i,p=this.getErrorMessage()||h;return t.createElement(d,Object.assign({disabled:this.isFormDisabled()},a,{errorText:p,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,ref:this.setMuiComponentAndMaybeFocus,value:this.state.value,underlineStyle:this.state.isValid?{borderColor:o}:r,underlineFocusStyle:this.state.isValid?{borderColor:o}:n}))}}),E=i({propTypes:{defaultTime:n.object,name:n.string.isRequired,onChange:n.func,validationError:n.string,validationErrors:n.object,validations:n.oneOfType([n.string,n.object]),value:n.object},mixins:[r.Mixin],componentDidMount:function(){var e=this.props.defaultTime;void 0===this.getValue()&&void 0!==e&&this.setValue(e)},componentWillReceiveProps:function(e){function t(e,t){return e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()}e.value?this.props.value&&t(this.props.value,e.value)||this.setValue(e.value):!this.props.value&&e.defaultTime&&(t(this.props.defaultTime,e.defaultTime)||this.setValue(e.defaultTime))},handleChange:function(e,t){this.setValue(t),this.props.onChange&&this.props.onChange(e,t)},setMuiComponentAndMaybeFocus:f,render:function(){var e=v(this.props,["defaultTime","validations","validationError","validationErrors"]);return t.createElement(h,Object.assign({disabled:this.isFormDisabled()},e,{errorText:this.getErrorMessage(),onChange:this.handleChange,ref:this.setMuiComponentAndMaybeFocus,value:this.getValue()}))}}),T=i({propTypes:{defaultToggled:n.bool,name:n.string.isRequired,onChange:n.func,validationError:n.string,validationErrors:n.object,validations:n.oneOfType([n.string,n.object])},mixins:[r.Mixin],componentDidMount:function(){this.setValue(this.muiComponent.isToggled())},handleChange:function(e,t){this.setValue(t),this.props.onChange&&this.props.onChange(e,t)},setMuiComponentAndMaybeFocus:f,render:function(){var e=this.props,i=e.defaultToggled,n=v(e,["defaultToggled","validations","validationError","validationErrors"]),r=this.getValue();return void 0===r&&(r=void 0!==i&&i),t.createElement(p,Object.assign({disabled:this.isFormDisabled()},n,{onToggle:this.handleChange,ref:this.setMuiComponentAndMaybeFocus,toggled:r}))}});exports.FormsyAutoComplete=i({propTypes:{defaultValue:n.any,name:n.string.isRequired,onBlur:n.func,onChange:n.func,onFocus:n.func,onKeyDown:n.func,validationError:n.string,validationErrors:n.object,validations:n.oneOfType([n.string,n.object]),value:n.any},mixins:[r.Mixin],getInitialState:function(){return{value:this.props.defaultValue||this.props.value||""}},componentWillMount:function(){this.setValue(this.props.defaultValue||this.props.value||"")},handleBlur:function(e){this.setValue(e.currentTarget.value),this.props.onBlur&&this.props.onBlur(e)},handleChange:function(e){this.setState({value:e.currentTarget.value}),this.props.onChange&&this.props.onChange(e)},handleUpdateInput:function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(null,e)},handleKeyDown:function(e){"enter"===l(e)&&this.setValue(e.currentTarget.value),this.props.onKeyDown&&this.props.onKeyDown(e,e.currentTarget.value)},setMuiComponentAndMaybeFocus:g.setMuiComponentAndMaybeFocus,render:function(){var e=this.props,i=e.onFocus,n=v(e,["defaultValue","onFocus","value","validations","validationError","validationErrors"]);return t.createElement(c,Object.assign({disabled:this.isFormDisabled()},n,{errorText:this.getErrorMessage(),onBlur:this.handleBlur,onChange:this.handleChange,onUpdateInput:this.handleUpdateInput,onFocus:i,onKeyDown:this.handleKeyDown,ref:this.setMuiComponentAndMaybeFocus,value:this.state.value}))}}),exports.FormsyCheckbox=m,exports.FormsyDate=C,exports.FormsyRadio=y,exports.FormsyRadioGroup=V,exports.FormsySelect=b,exports.FormsyText=M,exports.FormsyTime=E,exports.FormsyToggle=T;
//# sourceMappingURL=formsy-material-ui.cjs.production.min.js.map
